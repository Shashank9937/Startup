import{v,u as y,r as g,j as e,C as c,e as p,E as f,w as N,x as h}from"./index-CeRVIF18.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=v("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),I=[{id:"journal",label:"Daily Journal"},{id:"review",label:"Weekly Review"},{id:"models",label:"Mental Models"},{id:"playbooks",label:"Playbooks"},{id:"interviews",label:"Interviews"},{id:"ideas",label:"Idea Inbox"},{id:"diet",label:"Information Diet"}];function S(r,i,m){return e.jsx("button",{className:`px-3 py-1.5 rounded-lg text-sm ${i===r.id?"bg-primary-600 text-white":"bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-200"}`,onClick:()=>m(r.id),children:r.label},r.id)}function P(){const{state:r,mutate:i,generateWeeklyReview:m}=y(),[o,b]=g.useState("journal"),[x,j]=g.useState(""),w=g.useMemo(()=>r.knowledge.mentalModels.filter(l=>`${l.name} ${l.tier} ${l.definition}`.toLowerCase().includes(x.toLowerCase())).reduce((l,s)=>(l[s.tier]||(l[s.tier]=[]),l[s.tier].push(s),l),{}),[r.knowledge.mentalModels,x]),k=()=>{const a=r.knowledge.dailyJournal.map(n=>[`## ${n.date}`,`- Worked: ${n.worked||""}`,`- Didn't work: ${n.didntWork||""}`,`- Insight: ${n.insight||""}`,""].join(`
`)),l=new Blob([`# Daily Journal

${a.join(`
`)}`],{type:"text/markdown"}),s=URL.createObjectURL(l),t=document.createElement("a");t.href=s,t.download=`founderos-journal-${p()}.md`,t.click(),URL.revokeObjectURL(s)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{title:"Knowledge Base & Second Brain",subtitle:"Capture, synthesize, and operationalize founder knowledge",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(a=>S(a,o,b))})}),o==="journal"?e.jsxs(c,{title:"Daily Journal",subtitle:"What worked, what failed, what to do tomorrow",action:e.jsx("button",{className:"btn-secondary",onClick:k,children:"Export Markdown"}),children:[e.jsx("button",{className:"btn-primary mb-3",onClick:()=>i(a=>{a.knowledge.dailyJournal.unshift({id:`journal_${Date.now()}`,date:p(),worked:"",didntWork:"",insight:"",tomorrowPriorities:["","",""]})}),children:"+ New Journal Entry"}),e.jsx("div",{className:"space-y-3",children:r.knowledge.dailyJournal.map(a=>e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("input",{className:"input w-auto",type:"date",value:a.date,onChange:l=>i(s=>{const t=s.knowledge.dailyJournal.find(n=>n.id===a.id);t&&(t.date=l.target.value)})}),e.jsx("button",{className:"text-xs text-rose-500",onClick:()=>i(l=>{l.knowledge.dailyJournal=l.knowledge.dailyJournal.filter(s=>s.id!==a.id)}),children:"Delete"})]}),e.jsx("textarea",{className:"textarea",placeholder:"What worked today?",value:a.worked,onChange:l=>i(s=>{const t=s.knowledge.dailyJournal.find(n=>n.id===a.id);t&&(t.worked=l.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"What didn't work?",value:a.didntWork,onChange:l=>i(s=>{const t=s.knowledge.dailyJournal.find(n=>n.id===a.id);t&&(t.didntWork=l.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"Key learning / insight",value:a.insight,onChange:l=>i(s=>{const t=s.knowledge.dailyJournal.find(n=>n.id===a.id);t&&(t.insight=l.target.value)})})]},a.id))})]}):null,o==="review"?e.jsx(c,{title:"Weekly Review",subtitle:"Automated synthesis every Friday; editable archive",action:e.jsx("button",{className:"btn-primary",onClick:m,children:"Generate This Week"}),children:e.jsxs("div",{className:"space-y-3",children:[r.knowledge.weeklyReviews.length===0?e.jsx(f,{message:"No weekly reviews yet. Click Generate This Week."}):null,r.knowledge.weeklyReviews.map(a=>e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-3 space-y-2",children:[e.jsx("input",{className:"input w-auto",type:"date",value:a.weekStart,onChange:l=>i(s=>{const t=s.knowledge.weeklyReviews.find(n=>n.id===a.id);t&&(t.weekStart=N(new Date(l.target.value)))})}),e.jsx("textarea",{className:"textarea min-h-20",value:a.summary,onChange:l=>i(s=>{const t=s.knowledge.weeklyReviews.find(n=>n.id===a.id);t&&(t.summary=l.target.value)})}),e.jsx("textarea",{className:"textarea",value:a.goalsProgress||"",placeholder:"Progress on weekly goals",onChange:l=>i(s=>{const t=s.knowledge.weeklyReviews.find(n=>n.id===a.id);t&&(t.goalsProgress=l.target.value)})}),e.jsx("textarea",{className:"textarea",value:a.learnings||"",placeholder:"Key learnings",onChange:l=>i(s=>{const t=s.knowledge.weeklyReviews.find(n=>n.id===a.id);t&&(t.learnings=l.target.value)})})]},a.id))]})}):null,o==="models"?e.jsxs(c,{title:"Mental Models Library",subtitle:"50 models by tier with mastery, notes, and usage counter",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx(C,{size:16,className:"text-slate-500"}),e.jsx("input",{className:"input",placeholder:"Search models",value:x,onChange:a=>j(a.target.value)})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(w).map(([a,l])=>e.jsxs("section",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:a}),e.jsx("div",{className:"grid gap-2 md:grid-cols-2 xl:grid-cols-3",children:l.map(s=>e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-2",children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:s.definition}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("label",{className:"label",children:["Mastery (",s.mastery,"/10)"]}),e.jsx("input",{type:"range",min:"1",max:"10",value:s.mastery,onChange:t=>i(n=>{const d=n.knowledge.mentalModels.find(u=>u.id===s.id);d&&(d.mastery=Number(t.target.value))}),className:"w-full"}),e.jsx("label",{className:"label",children:"Usage Count"}),e.jsx("input",{className:"input",type:"number",value:s.usageCount,onChange:t=>i(n=>{const d=n.knowledge.mentalModels.find(u=>u.id===s.id);d&&(d.usageCount=Number(t.target.value))})}),e.jsx("textarea",{className:"textarea",placeholder:"Personal example notes",value:s.personalNotes,onChange:t=>i(n=>{const d=n.knowledge.mentalModels.find(u=>u.id===s.id);d&&(d.personalNotes=t.target.value)})})]})]},s.id))})]},a))})]}):null,o==="playbooks"?e.jsx(c,{title:"Playbooks",subtitle:"Sales, Growth, Product, Fundraising, Hiring",children:e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Object.entries(r.knowledge.playbooks).map(([a,l])=>e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:[a," playbook"]}),e.jsx("textarea",{className:"textarea min-h-36",value:l,onChange:s=>i(t=>{t.knowledge.playbooks[a]=s.target.value})})]},a))})}):null,o==="interviews"?e.jsxs(c,{title:"Customer Interview Notes",subtitle:"Capture signals, patterns, and follow-up actions",children:[e.jsx("button",{className:"btn-primary mb-3",onClick:()=>i(a=>{a.knowledge.interviews.unshift({id:`interview_${Date.now()}`,date:p(),customer:"",problemIntensity:5,willingnessToPay:"maybe",keyQuotes:"",painPoints:"",currentSolutions:"",featureRequests:"",followUp:""})}),children:"+ New Interview"}),e.jsx("button",{className:"btn-secondary mb-3 ml-2",onClick:()=>i(a=>{const l=a.knowledge.interviews.reduce((s,t)=>s+Number(t.problemIntensity||0),0)/Math.max(1,a.knowledge.interviews.length);a.knowledge.ideaInbox.unshift({id:`idea_${Date.now()}`,text:`AI Analysis: Avg pain intensity ${l.toFixed(1)}. Top pattern: ${a.knowledge.interviews[0]?.painPoints||"N/A"}`,tags:["ai-analysis","interview-patterns"],createdAt:h(),processed:!1})}),children:"AI: Analyze all interviews"}),e.jsx("div",{className:"space-y-2",children:r.knowledge.interviews.map(a=>e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-3 space-y-2",children:[e.jsxs("div",{className:"grid gap-2 sm:grid-cols-4",children:[e.jsx("input",{className:"input",type:"date",value:a.date,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.date=l.target.value)})}),e.jsx("input",{className:"input",placeholder:"Customer/company",value:a.customer,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.customer=l.target.value)})}),e.jsx("input",{className:"input",type:"number",min:"1",max:"10",value:a.problemIntensity,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.problemIntensity=Number(l.target.value))})}),e.jsxs("select",{className:"select",value:a.willingnessToPay,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.willingnessToPay=l.target.value)}),children:[e.jsx("option",{value:"yes",children:"yes"}),e.jsx("option",{value:"maybe",children:"maybe"}),e.jsx("option",{value:"no",children:"no"})]})]}),e.jsx("textarea",{className:"textarea",placeholder:"Key quotes",value:a.keyQuotes,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.keyQuotes=l.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"Pain points",value:a.painPoints,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.painPoints=l.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"Current solutions",value:a.currentSolutions,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.currentSolutions=l.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"Feature requests",value:a.featureRequests,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.featureRequests=l.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"Follow-up actions",value:a.followUp,onChange:l=>i(s=>{const t=s.knowledge.interviews.find(n=>n.id===a.id);t&&(t.followUp=l.target.value)})})]},a.id))})]}):null,o==="ideas"?e.jsxs(c,{title:"Idea Inbox",subtitle:"Capture now, process later",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{id:"new_idea_text",className:"input",placeholder:"Capture idea quickly"}),e.jsx("button",{className:"btn-primary",onClick:()=>{const a=document.getElementById("new_idea_text");a?.value.trim()&&(i(l=>{l.knowledge.ideaInbox.unshift({id:`idea_${Date.now()}`,text:a.value.trim(),tags:["captured"],createdAt:h(),processed:!1})}),a.value="")},children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:r.knowledge.ideaInbox.map(a=>e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-2 flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:a.text}),e.jsx("p",{className:"text-xs text-slate-500",children:(a.tags||[]).join(", ")})]}),e.jsxs("label",{className:"text-xs flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.processed,onChange:l=>i(s=>{const t=s.knowledge.ideaInbox.find(n=>n.id===a.id);t&&(t.processed=l.target.checked)})})," Processed"]})]},a.id))})]}):null,o==="diet"?e.jsx(c,{title:"Information Diet",subtitle:"Protect attention and upgrade signal quality",children:e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[e.jsxs("section",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-3",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Weekly Consumption Tracker"}),r.knowledge.infoDiet.consumption.map(a=>e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Tier 1 hours"}),e.jsx("input",{className:"input",type:"number",value:a.tier1Hours,onChange:l=>i(s=>{s.knowledge.infoDiet.consumption[0].tier1Hours=Number(l.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Tier 2 items"}),e.jsx("input",{className:"input",type:"number",value:a.tier2Items,onChange:l=>i(s=>{s.knowledge.infoDiet.consumption[0].tier2Items=Number(l.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Tier 3 items"}),e.jsx("input",{className:"input",type:"number",value:a.tier3Items,onChange:l=>i(s=>{s.knowledge.infoDiet.consumption[0].tier3Items=Number(l.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Tier 4 violations"}),e.jsx("input",{className:"input",type:"number",value:a.tier4Violations,onChange:l=>i(s=>{s.knowledge.infoDiet.consumption[0].tier4Violations=Number(l.target.value)})})]})]})},a.id))]}),e.jsxs("section",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-3",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Curated Sources & Quarantine"}),e.jsx("div",{className:"space-y-1 text-sm",children:r.knowledge.infoDiet.sources.map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:[a.name," (",a.type,")"]}),e.jsxs("span",{children:["Quality ",a.quality,"/10"]})]},a.id))}),e.jsxs("div",{className:"mt-3 text-sm",children:[e.jsxs("p",{children:["News Fast Streak: ",e.jsxs("strong",{children:[r.knowledge.infoDiet.newsFastStreak," days"]})]}),e.jsxs("p",{children:["Social Posting Limit: ",e.jsxs("strong",{children:[r.knowledge.infoDiet.socialMinutesLimit," mins/day"]})]})]})]})]})}):null]})}export{P as default};
