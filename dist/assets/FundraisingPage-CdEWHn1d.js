import{u as N,n as p,j as e,C as o,M as c,k as g,p as h,P as y,e as m,E as x,y as C}from"./index-CeRVIF18.js";import{R as k,X as S,Y as M,T as D}from"./generateCategoricalChart-IE_EzDv6.js";import{A as P,C as R,a as f}from"./AreaChart-CiUURtrX.js";function F(){const{state:d,mutate:r,generateMonthlyReport:v}=N(),l=d.fundraising,u=l.target>0?p(l.raised)/p(l.target)*100:0,j=d.financialModel.projections.revenue.map((a,n)=>({month:`M${n+1}`,revenue:a,cogs:d.financialModel.projections.cogs[n],sm:d.financialModel.projections.sm[n],rd:d.financialModel.projections.rd[n],ga:d.financialModel.projections.ga[n]}));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(o,{title:"Fundraising Dashboard",subtitle:"Track raise progress, investor pipeline, and runway impact",children:[e.jsxs("div",{className:"grid-cards",children:[e.jsx(c,{label:"Target amount",value:g(l.target)}),e.jsx(c,{label:"Raised",value:g(l.raised)}),e.jsx(c,{label:"Progress",value:h(u),tone:u>=50?"success":"warning"}),e.jsx(c,{label:"Runway before/after",value:`${l.runwayBefore}m â†’ ${l.runwayAfter}m`}),e.jsx(c,{label:"Pipeline meetings",value:l.pipeline.length}),e.jsx(c,{label:"Term sheets",value:l.termSheets.length})]}),e.jsx("div",{className:"mt-2",children:e.jsx(y,{value:u})})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[e.jsx(o,{title:"Data Room Checklist",children:e.jsx("div",{className:"space-y-2",children:l.dataRoom.map(a=>e.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-lg border border-slate-200 dark:border-slate-700 p-2",children:[e.jsx("span",{children:a.label}),e.jsxs("select",{className:"select w-auto",value:a.status,onChange:n=>r(t=>{const s=t.fundraising.dataRoom.find(i=>i.id===a.id);s&&(s.status=n.target.value)}),children:[e.jsx("option",{value:"not_started",children:"not started"}),e.jsx("option",{value:"in_progress",children:"in progress"}),e.jsx("option",{value:"complete",children:"complete"})]})]},a.id))})}),e.jsxs(o,{title:"Pitch Deck Tracker",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{className:"input",value:l.pitchDeck.version,onChange:a=>r(n=>{n.fundraising.pitchDeck.version=a.target.value}),placeholder:"Version"}),e.jsx("input",{className:"input",type:"date",value:l.pitchDeck.lastUpdated,onChange:a=>r(n=>{n.fundraising.pitchDeck.lastUpdated=a.target.value})}),e.jsx("input",{className:"input",type:"number",value:l.pitchDeck.practiceCount,onChange:a=>r(n=>{n.fundraising.pitchDeck.practiceCount=Number(a.target.value)})})]}),e.jsx("div",{className:"mt-2 space-y-2",children:l.pitchDeck.slides.map(a=>e.jsxs("div",{className:"flex items-center justify-between text-sm border border-slate-200 dark:border-slate-700 rounded-lg p-2",children:[e.jsx("span",{children:a.name}),e.jsxs("select",{className:"select w-auto",value:a.status,onChange:n=>r(t=>{const s=t.fundraising.pitchDeck.slides.find(i=>i.id===a.id);s&&(s.status=n.target.value)}),children:[e.jsx("option",{value:"not_started",children:"not_started"}),e.jsx("option",{value:"in_progress",children:"in_progress"}),e.jsx("option",{value:"complete",children:"complete"})]})]},a.id))})]})]}),e.jsxs(o,{title:"Investor Pipeline",subtitle:"From research to term sheet",children:[e.jsx("button",{className:"btn-primary mb-2",onClick:()=>r(a=>{a.fundraising.pipeline.unshift({id:`pipeline_${Date.now()}`,firm:"",partner:"",stage:"research",date:m(),concern:"",likelihood:"cold",notes:""})}),children:"+ Add Investor"}),e.jsxs("div",{className:"space-y-2",children:[l.pipeline.map(a=>e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-2 grid grid-cols-12 gap-2",children:[e.jsx("input",{className:"input col-span-2",placeholder:"Firm",value:a.firm,onChange:n=>r(t=>{const s=t.fundraising.pipeline.find(i=>i.id===a.id);s&&(s.firm=n.target.value)})}),e.jsx("input",{className:"input col-span-2",placeholder:"Partner",value:a.partner,onChange:n=>r(t=>{const s=t.fundraising.pipeline.find(i=>i.id===a.id);s&&(s.partner=n.target.value)})}),e.jsxs("select",{className:"select col-span-2",value:a.stage,onChange:n=>r(t=>{const s=t.fundraising.pipeline.find(i=>i.id===a.id);s&&(s.stage=n.target.value)}),children:[e.jsx("option",{children:"research"}),e.jsx("option",{children:"intro"}),e.jsx("option",{children:"meeting"}),e.jsx("option",{children:"due diligence"}),e.jsx("option",{children:"term sheet"})]}),e.jsx("input",{className:"input col-span-2",type:"date",value:a.date,onChange:n=>r(t=>{const s=t.fundraising.pipeline.find(i=>i.id===a.id);s&&(s.date=n.target.value)})}),e.jsxs("select",{className:"select col-span-2",value:a.likelihood,onChange:n=>r(t=>{const s=t.fundraising.pipeline.find(i=>i.id===a.id);s&&(s.likelihood=n.target.value)}),children:[e.jsx("option",{children:"hot"}),e.jsx("option",{children:"warm"}),e.jsx("option",{children:"cold"})]}),e.jsx("button",{className:"btn-danger col-span-2",onClick:()=>r(n=>{n.fundraising.pipeline=n.fundraising.pipeline.filter(t=>t.id!==a.id)}),children:"Delete"}),e.jsx("textarea",{className:"textarea col-span-12",placeholder:"Concerns, questions asked, next steps",value:`${a.concern||""}
${a.notes||""}`,onChange:n=>r(t=>{const s=t.fundraising.pipeline.find(i=>i.id===a.id);if(s){const[i,...b]=n.target.value.split(`
`);s.concern=i,s.notes=b.join(`
`)}})})]},a.id)),l.pipeline.length===0?e.jsx(x,{message:"No investors in pipeline"}):null]})]}),e.jsxs(o,{title:"Term Sheet Comparison",subtitle:"Side-by-side key terms and negotiation points",children:[e.jsx("button",{className:"btn-primary mb-2",onClick:()=>r(a=>{a.fundraising.termSheets.unshift({id:`term_${Date.now()}`,lead:"",valuation:0,checkSize:0,ownership:0,liquidationPreference:"1x non-participating",boardSeats:1,redFlags:"",negotiationPoints:""})}),children:"+ Add Term Sheet"}),e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:l.termSheets.map(a=>e.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-3 space-y-2",children:[e.jsx("input",{className:"input",placeholder:"Lead investor",value:a.lead,onChange:n=>r(t=>{const s=t.fundraising.termSheets.find(i=>i.id===a.id);s&&(s.lead=n.target.value)})}),e.jsx("input",{className:"input",type:"number",placeholder:"Valuation",value:a.valuation,onChange:n=>r(t=>{const s=t.fundraising.termSheets.find(i=>i.id===a.id);s&&(s.valuation=Number(n.target.value))})}),e.jsx("input",{className:"input",type:"number",placeholder:"Check size",value:a.checkSize,onChange:n=>r(t=>{const s=t.fundraising.termSheets.find(i=>i.id===a.id);s&&(s.checkSize=Number(n.target.value))})}),e.jsx("input",{className:"input",type:"number",placeholder:"Ownership %",value:a.ownership,onChange:n=>r(t=>{const s=t.fundraising.termSheets.find(i=>i.id===a.id);s&&(s.ownership=Number(n.target.value))})}),e.jsx("input",{className:"input",value:a.liquidationPreference,onChange:n=>r(t=>{const s=t.fundraising.termSheets.find(i=>i.id===a.id);s&&(s.liquidationPreference=n.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"Red flags",value:a.redFlags,onChange:n=>r(t=>{const s=t.fundraising.termSheets.find(i=>i.id===a.id);s&&(s.redFlags=n.target.value)})}),e.jsx("textarea",{className:"textarea",placeholder:"Negotiation points",value:a.negotiationPoints,onChange:n=>r(t=>{const s=t.fundraising.termSheets.find(i=>i.id===a.id);s&&(s.negotiationPoints=n.target.value)})})]},a.id))})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[e.jsxs(o,{title:"Financial Model Builder",subtitle:"3-year projection scaffolding and break-even view",children:[e.jsx("div",{className:"h-64",children:e.jsx(k,{width:"100%",height:"100%",children:e.jsxs(P,{data:j,children:[e.jsx(R,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"month"}),e.jsx(M,{}),e.jsx(D,{}),e.jsx(f,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",fill:"#93c5fd"}),e.jsx(f,{type:"monotone",dataKey:"sm",stroke:"#f59e0b",fill:"#fde68a"})]})})}),e.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Rule of 40 proxy: ",(p(d.metrics.snapshots.at(-1)?.momGrowth)+p(d.metrics.snapshots.at(-1)?.grossMargin)-40).toFixed(1)," points above threshold."]})]}),e.jsx(o,{title:"Budget Tracker",subtitle:"Actual vs budget and variance",children:e.jsx("div",{className:"space-y-2",children:d.financialModel.budget.map(a=>e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx("input",{className:"input col-span-4",value:a.category,onChange:n=>r(t=>{const s=t.financialModel.budget.find(i=>i.id===a.id);s&&(s.category=n.target.value)})}),e.jsx("input",{className:"input col-span-2",value:a.month,onChange:n=>r(t=>{const s=t.financialModel.budget.find(i=>i.id===a.id);s&&(s.month=n.target.value)})}),e.jsx("input",{className:"input col-span-2",type:"number",value:a.budgeted,onChange:n=>r(t=>{const s=t.financialModel.budget.find(i=>i.id===a.id);s&&(s.budgeted=Number(n.target.value))})}),e.jsx("input",{className:"input col-span-2",type:"number",value:a.actual,onChange:n=>r(t=>{const s=t.financialModel.budget.find(i=>i.id===a.id);s&&(s.actual=Number(n.target.value))})}),e.jsxs("div",{className:"col-span-2 text-xs self-center",children:["Var ",(a.actual-a.budgeted).toFixed(0)]})]},a.id))})})]}),e.jsxs(o,{title:"Reports & Investor Updates",subtitle:"Generate weekly, monthly, and investor-facing summaries",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{className:"btn-primary",onClick:()=>r(a=>{a.reports.investorUpdates.unshift({id:`investor_update_${Date.now()}`,date:m(),body:`Investor Update (${C()})

Metrics:
- MRR: ${g(d.metrics.snapshots.at(-1)?.mrr||0)}
- Growth: ${h(d.metrics.snapshots.at(-1)?.momGrowth||0)}

Product updates:
- ...
Team updates:
- ...
Fundraising:
- Pipeline: ${d.fundraising.pipeline.length} active investors

Asks:
- 2 intros to B2B infra operators`})}),children:"Generate Investor Update"}),e.jsx("button",{className:"btn-secondary",onClick:v,children:"Generate Monthly Report"})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[d.reports.investorUpdates.map(a=>e.jsx("textarea",{className:"textarea min-h-28",value:a.body,onChange:n=>r(t=>{const s=t.reports.investorUpdates.find(i=>i.id===a.id);s&&(s.body=n.target.value)})},a.id)),d.reports.investorUpdates.length===0?e.jsx(x,{message:"No investor updates yet."}):null]})]})]})}export{F as default};
