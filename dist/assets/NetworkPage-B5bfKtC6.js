import{u as k,r as v,e as d,j as s,C as c,E as m,M as u}from"./index-CeRVIF18.js";const h=[{key:"customers",label:"Customers (ICP)"},{key:"investors",label:"Investors"},{key:"advisors",label:"Advisors & Mentors"},{key:"partners",label:"Partners"},{key:"team",label:"Team & Candidates"}];function w(i){return{id:`${i}_${Date.now()}`,name:"",company:"",role:"",email:"",stage:"prospect",value:0,lastContact:d(),nextFollowUp:d(),notes:"",history:[]}}function f(){const{state:i,mutate:l}=k(),[o,x]=v.useState("customers"),g=i.network[o]||[],p=v.useMemo(()=>{const e=d();return h.flatMap(t=>(i.network[t.key]||[]).map(r=>({...r,type:t.label}))).filter(t=>t.nextFollowUp&&t.nextFollowUp<e)},[i.network]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(c,{title:"Network & Contacts",subtitle:"Relationship systems for customers, investors, mentors, partners, and team",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:h.map(e=>s.jsx("button",{className:`btn-secondary ${o===e.key?"ring-2 ring-primary-500":""}`,onClick:()=>x(e.key),children:e.label},e.key))}),s.jsxs("button",{className:"btn-primary mb-3",onClick:()=>l(e=>{e.network[o].unshift(w(o))}),children:["+ Add ",h.find(e=>e.key===o)?.label]}),s.jsxs("div",{className:"space-y-2",children:[g.length===0?s.jsx(m,{message:"No contacts in this category yet."}):null,g.map(e=>s.jsxs("div",{className:"rounded-xl border border-slate-200 dark:border-slate-700 p-3 space-y-2",children:[s.jsxs("div",{className:"grid gap-2 sm:grid-cols-3",children:[s.jsx("input",{className:"input",placeholder:"Name",value:e.name||"",onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.name=t.target.value)})}),s.jsx("input",{className:"input",placeholder:"Company/Firm",value:e.company||e.firm||"",onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.company=t.target.value,a.firm=t.target.value)})}),s.jsx("input",{className:"input",placeholder:"Role/Partner",value:e.role||e.partner||"",onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.role=t.target.value,a.partner=t.target.value)})}),s.jsx("input",{className:"input",placeholder:"Email",value:e.email||"",onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.email=t.target.value)})}),s.jsxs("select",{className:"select",value:e.stage||e.status||"prospect",onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.stage=t.target.value,a.status=t.target.value)}),children:[s.jsx("option",{value:"prospect",children:"prospect"}),s.jsx("option",{value:"customer",children:"customer"}),s.jsx("option",{value:"warm",children:"warm"}),s.jsx("option",{value:"pitched",children:"pitched"}),s.jsx("option",{value:"passed",children:"passed"}),s.jsx("option",{value:"term_sheet",children:"term sheet"})]}),s.jsx("input",{className:"input",type:"number",placeholder:"Value (MRR/contract)",value:e.value||0,onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.value=Number(t.target.value))})}),s.jsx("input",{className:"input",type:"date",value:e.lastContact||d(),onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.lastContact=t.target.value)})}),s.jsx("input",{className:"input",type:"date",value:e.nextFollowUp||d(),onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.nextFollowUp=t.target.value)})}),s.jsx("button",{className:"btn-danger",onClick:()=>l(t=>{t.network[o]=t.network[o].filter(r=>r.id!==e.id)}),children:"Delete"})]}),s.jsx("textarea",{className:"textarea",placeholder:"Notes and communication history",value:e.notes||"",onChange:t=>l(r=>{const a=r.network[o].find(n=>n.id===e.id);a&&(a.notes=t.target.value)})})]},e.id))]})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[s.jsxs(c,{title:"Warm Intro Tracker",subtitle:"50 target VC paths",children:[s.jsx("button",{className:"btn-primary mb-2",onClick:()=>l(e=>{e.network.warmIntros.unshift({id:`intro_${Date.now()}`,firm:"",targetPartner:"",introPath:"",status:"requested",followUp:d()})}),children:"+ Add Intro"}),s.jsxs("div",{className:"space-y-2",children:[i.network.warmIntros.map(e=>s.jsxs("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 p-2 grid grid-cols-12 gap-2",children:[s.jsx("input",{className:"input col-span-3",placeholder:"Firm",value:e.firm,onChange:t=>l(r=>{const a=r.network.warmIntros.find(n=>n.id===e.id);a&&(a.firm=t.target.value)})}),s.jsx("input",{className:"input col-span-3",placeholder:"Partner",value:e.targetPartner,onChange:t=>l(r=>{const a=r.network.warmIntros.find(n=>n.id===e.id);a&&(a.targetPartner=t.target.value)})}),s.jsx("input",{className:"input col-span-3",placeholder:"Intro path",value:e.introPath,onChange:t=>l(r=>{const a=r.network.warmIntros.find(n=>n.id===e.id);a&&(a.introPath=t.target.value)})}),s.jsxs("select",{className:"select col-span-2",value:e.status,onChange:t=>l(r=>{const a=r.network.warmIntros.find(n=>n.id===e.id);a&&(a.status=t.target.value)}),children:[s.jsx("option",{children:"requested"}),s.jsx("option",{children:"made"}),s.jsx("option",{children:"meeting scheduled"})]}),s.jsx("button",{className:"btn-danger col-span-1",onClick:()=>l(t=>{t.network.warmIntros=t.network.warmIntros.filter(r=>r.id!==e.id)}),children:"X"})]},e.id)),i.network.warmIntros.length===0?s.jsx(m,{message:"No warm intro paths tracked yet."}):null]})]}),s.jsxs(c,{title:"Relationship Health",subtitle:"Overdue follow-ups and risk flags",children:[s.jsx(u,{label:"Overdue follow-ups",value:p.length,tone:p.length?"danger":"success"}),s.jsxs("div",{className:"space-y-2 mt-2",children:[p.slice(0,8).map(e=>s.jsxs("div",{className:"rounded-lg bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-700/40 p-2 text-sm",children:[e.name||e.partner||"Unnamed"," â€¢ ",e.type,s.jsxs("div",{className:"text-xs text-rose-600 dark:text-rose-300",children:["Follow-up due ",e.nextFollowUp]})]},`${e.type}_${e.id}`)),p.length===0?s.jsx(m,{message:"No overdue relationships."}):null]})]}),s.jsxs(c,{title:"Network Snapshot",subtitle:"Relationship inventory and value",children:[s.jsx(u,{label:"Customers tracked",value:i.network.customers.length}),s.jsx(u,{label:"Investors tracked",value:i.network.investors.length}),s.jsx(u,{label:"Advisors",value:i.network.advisors.length}),s.jsx(u,{label:"Pipeline value",value:`$${i.network.customers.reduce((e,t)=>e+Number(t.value||0),0).toLocaleString()}`})]})]})]})}export{f as default};
